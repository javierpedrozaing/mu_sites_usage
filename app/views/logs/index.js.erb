$("#logs").html("<%= escape_javascript(render("logs")) %>");
document.title = "<%= escape_javascript("Sites Usage | Device Logs by #{(params[:sort] || 'date').sub(".", " ").titleize} - Page #{params[:page] || 1}") %>";

$searchForm = $('#search_form');

<% if params[:search_client] %>
  $clientField = $searchForm.find('#client');
  if ($clientField.select2('val') == ''){ $clientField.select2('val', "<%= escape_javascript(params[:search_client]) %>"); }
<% end %>

<% if params[:search_vm_or_user] %>
  $vmOrUserField = $searchForm.find('#vm_or_user');
  if ($vmOrUserField.select2('val') == ''){ $vmOrUserField.select2('val', "<%= escape_javascript(params[:search_vm_or_user]) %>"); }
<% end %>

<% if params[:search_site] %>
  $siteField = $searchForm.find('#site');
  if ($siteField.select2('val').length == 0){ $siteField.select2('val', <%= raw(params[:search_site].map(&:to_i)) %>); }
<% end %>

<% if params[:search_type] %>
  $typeField = $searchForm.find('#type');
  if ($typeField.select2('val').length == 0){ $typeField.select2('val', <%= raw(params[:search_type]) %>); }
<% end %>

<% if params[:search_start_date] %>
  $startDateField = $searchForm.find('#start_date');
  if ($startDateField.val() == ''){ $startDateField.val("<%= escape_javascript(params[:search_start_date]) %>"); }
<% end %>

<% if params[:search_end_date] %>
  $endDateField = $searchForm.find('#end_date');
  if ($endDateField.val() == ''){ $endDateField.val("<%= escape_javascript(params[:search_end_date]) %>"); }
<% end %>